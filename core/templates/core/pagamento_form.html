{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="fas fa-money-bill me-2"></i>{{ title }}</h2>
    <a href="{% url 'venda_detail' venda.pk %}" class="btn btn-secondary">
        <i class="fas fa-arrow-left me-2"></i>Voltar
    </a>
</div>

<div class="row">
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-receipt me-2"></i>Resumo da Venda</h5>
            </div>
            <div class="card-body">
                <p><strong>Número:</strong> {{ venda.numero_venda }}</p>
                <p><strong>Cliente:</strong> {{ venda.cliente.nome|default:"Balcão" }}</p>
                <p><strong>Valor Total:</strong> R$ {{ venda.valor_total|floatformat:2 }}</p>
                <p><strong>Já Pago:</strong> <span class="text-success">R$ {{ venda.valor_total_pago|floatformat:2 }}</span></p>
                <hr>
                <p><strong>Valor Pendente:</strong> <span class="text-primary fs-5">R$ {{ venda.valor_pendente|floatformat:2 }}</span></p>
            </div>
        </div>
    </div>
    
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-plus me-2"></i>Registrar Pagamento</h5>
            </div>
            <div class="card-body">
                {% crispy form %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
